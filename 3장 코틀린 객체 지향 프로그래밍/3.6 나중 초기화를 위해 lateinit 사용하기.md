  # Recipe 나중 초기화를 위해 lateinit 사용하기
  
  
* 문제

생성자에 속성 초기화를 위한 정보가 충분하지 않으면 해당 속성을 널 비허용 속성으로 만들고 싶다.


* 해법

속성에 lateinit 변경자를 사용한다.


널 비허용으로 선언된 클래스 속성은 생성자에서 초기화되어야 한다. 하지만 가끔은 속성에 할당할 값의 정보가 충분하지 않는 경우가 있다. 이것은 모든 객체가 생성될 때까지 의존성 주입이
일어나지 않는 의존성 주입 프레임워크에서 발생하거나 유닛 테스트의 설정 메소드 안에서 발생한다. 이러한 경우를 대비해 속성에 lateinit 변경자를 사용한다.

lateinit 변경자는 클래스 몸체에서만 선언되고 사용자 정의 획득자와 설정자가 없는 var 속성에서만 사용할 수 있다. 코틀린 1.2부터 최상위 속성과 지역 변수에서도 lateinit을 사용 가능하다.
lateinit을 사용할 수 있는 속성 타입은 널 할당이 불가능한 타입이어야 하며 기본 타입에는 lateinit을 사용할 수 없다. lateinit을 추가하면 해당 변수가 처음 사용되기 전에 초기화 할 수 있다.
하지만, 사용 전 초기화에 실패하면 UninitializedPropertyAccessException 예외를 던진다.


# 생각해보기


* lateinit은 언제 어떻게 활용할 수 있을까?

지연 초기화가 필요할 때 사용한다. 예를들어 변수 tree를 사용한다고 가정한다면 처음 상태를 지정하기 어려울 때 사용할 것 같다.
굳이 var tree: String? = null 로 정의하지 않아도 될 것들.
어차피 사용되야 할 변수라면 초기값을 정의 하지 않은 상태로...(null을 지양하자)
